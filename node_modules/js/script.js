function eraseText() {
    document.getElementById("inputText").innerHTML = "";
}

function checkInput() {
    var InputTex = document.getElementById("inputText").innerHTML;
    return InputTex != "";
}

function checkFilter() {
    var filterText = document.getElementById("filterTA").value;
    return filterText != "";
}

function checkOptions() {
    var option1 = document.getElementById('op1');
    var option2 = document.getElementById('op2');
    var option3 = document.getElementById('op3');
    var option4 = document.getElementById('op4');

    if (option1.checked || option2.checked || option3.checked || option4.checked) {
        return true;
    } else {
        return false;
    }
}

function lowercase(toLower) {
    return toLower.toLowerCase();
}

function uppercase(toUpper) {
    return toUpper.toUpperCase();
}

function bold(toBold) {
    return toBold.bold();
}

function italic(toItalic) {
    return toItalic.italics();
}

function sepByComma(specificTA) {
    var words = specificTA.split(',');
    return words;
}

function boldWords(input, words) {

    var newInput = input;
    for (var i=0; i<words.length; i++) {
        var search = words[i];
        var sub = search.bold();
        newInput = newInput.replace(search, sub); 
    }
    return newInput;

}

function italicWords(input, words) {

    var newInput = input;
    for (var i=0; i<words.length; i++) {
        var search = words[i];
        var sub = search.italics();
        newInput = newInput.replace(search, sub); 
    }
    return newInput;

}

function upperWords(input, words) {

    var newInput = input;
    for (var i=0; i<words.length; i++) {
        var search = words[i];
        var sub = search.toUpperCase();
        newInput = newInput.replace(search, sub); 
    }
    return newInput;

}

function lowerWords(input, words) {

    var newInput = input;
    for (var i=0; i<words.length; i++) {
        var search = words[i];
        var sub = search.toLowerCase();
        newInput = newInput.replace(search, sub); 
    }
    return newInput;

}



function formatText() {

    var textToFormat = document.getElementById("inputText").innerHTML;
    
    if (textToFormat != "" & checkOptions()) {
        if(checkFilter()){
            // collect words in a list
            var option1 = document.getElementById('op1');
            var option2 = document.getElementById('op2');
            var option3 = document.getElementById('op3');
            var option4 = document.getElementById('op4');
            var outputFilter = "";
            var filterInput = document.getElementById("filterTA").value;
            var words =sepByComma(filterInput);
            console.log(words);
            

            // Specific words from option 2

            if(option1.checked) {
                if(outputFilter == "") {
                    outputFilter = lowerWords(textToFormat, words);
                } else {
                    outputFilter = lowerWords(outputFilter, words);
                }
                
            }

            if(option1.checked && option3.checked)
            {

                if(outputFilter == "") {
                    outputFilter = lowerWords(textToFormat, words);
                    outputFilter = boldWords(outputFilter, words);
                } else {
                    outputFilter = lowerWords(outputFilter, words);
                    outputFilter = boldWords(outputFilter, words);
                }

                
                
            }

            if(option1.checked && option4.checked)
            {

                if(outputFilter == "") {
                    outputFilter = lowerWords(textToFormat, words);
                    outputFilter = italicWords(outputFilter, words);
                } else {
                    outputFilter = lowerWords(outputFilter, words);
                    outputFilter = italicWords(outputFilter, words);
                }
                
            }

            if(option1.checked && option3.checked && option4.checked)
            {


                if(outputFilter == "") {
                    outputFilter = lowerWords(textToFormat, words);
                    outputFilter = boldWords(outputFilter, words);
                    outputFilter = italicWords(outputFilter, words);
                } else {
                    outputFilter = lowerWords(outputFilter, words);
                    outputFilter = boldWords(outputFilter, words);
                    outputFilter = italicWords(outputFilter, words);
                }
               
            }



            // Specific words from option 2

            if(option2.checked) {

                if(outputFilter == "") {
                    outputFilter = upperWords(textToFormat, words);
                } else {
                    outputFilter = upperWords(outputFilter, words);
                }
                
            }

            if(option2.checked && option3.checked)
            {


                if(outputFilter == "") {
                    outputFilter = upperWords(textToFormat, words);
                    outputFilter = boldWords(outputFilter, words);
                } else {
                    outputFilter = upperWords(outputFilter, words);
                    outputFilter = boldWords(outputFilter, words);
                }

                
            }

            if(option2.checked && option4.checked)
            {
                if(outputFilter == "") {
                    outputFilter = upperWords(textToFormat, words);
                    outputFilter = italicWords(outputFilter, words);
                } else {
                    outputFilter = upperWords(outputFilter, words);
                    outputFilter = italicWords(outputFilter, words);
                }
                
            }

            if(option2.checked && option3.checked && option4.checked)
            {

                if(outputFilter == "") {
                    outputFilter = upperWords(textToFormat, words);
                    outputFilter = boldWords(outputFilter, words);
                    outputFilter = italicWords(outputFilter, words);
                } else {
                    outputFilter = upperWords(outputFilter, words);
                    outputFilter = boldWords(outputFilter, words);
                    outputFilter = italicWords(outputFilter, words);
                }

                
            }


            // Specific words from option 3

            if (option3.checked) {

                if(outputFilter == "") {
                    outputFilter = boldWords(textToFormat, words);
                } else {
                    outputFilter = boldWords(outputFilter, words);
                }
                
            }

            if(option3.checked && option4.checked)
            {

                if(outputFilter == "") {
                    outputFilter = boldWords(textToFormat, words);
                    outputFilter = italicWords(outputFilter, words);
                } else {
                    outputFilter = boldWords(outputFilter, words);
                    outputFilter = italicWords(outputFilter, words);
                }
                
                
            }


            // Specific words from option 4
            if (option4.checked) {

                if(outputFilter == "") {
                    outputFilter = italicWords(textToFormat, words);
                } else {
                    outputFilter = italicWords(outputFilter, words);
                }
                
            }
            


            document.getElementById("outputText").innerHTML = "";
            document.getElementById("outputText").innerHTML = outputFilter;

        } else {
            var option1 = document.getElementById('op1');
            var option2 = document.getElementById('op2');
            var option3 = document.getElementById('op3');
            var option4 = document.getElementById('op4');
            
            var output = "";

            if (option1.checked) {
                if(output == "") {
                    output = lowercase(textToFormat);
                } else {
                    outuput = lowercase(output);
                }
            }

            if (option1.checked && option3.checked) {
                if(output == "") {
                    output = lowercase(textToFormat);
                    output = bold(output);
                } else {
                    outuput = lowercase(output);
                    output = bold(output);
                }
            }
            if (option1.checked && option4.checked) {
                if(output == "") {
                    output = lowercase(textToFormat);
                    output = italic(output);
                } else {
                    outuput = lowercase(output);
                    output = italic(output);
                }
            }

            if (option1.checked && option3.checked && option4.checked) {
                if(output == "") {
                    output = lowercase(textToFormat);
                    output = bold(output);
                    output = italic(output);
                } else {
                    outuput = lowercase(output);
                    output = bold(output);
                    output = italic(output);
                }
            }


            if (option2.checked) {
                if(output == "") {
                    output = uppercase(textToFormat);
                } else {
                    outuput = uppercase(output);
                }
            }

            if (option2.checked && option3.checked) {
                if(output == "") {
                    output = uppercase(textToFormat);
                    output = bold(output);
                } else {
                    outuput = uppercase(output);
                    output = bold(output);
                }
            }

            if (option2.checked && option4.checked) {
                if(output == "") {
                    output = uppercase(textToFormat);
                    output = italic(output);
                } else {
                    outuput = uppercase(output);
                    output = italic(output);
                }
            }

            if (option2.checked && option3.checked && option4.checked) {
                if(output == "") {
                    output = uppercase(textToFormat);
                    output = bold(output);
                    output = italic(output);
                } else {
                    outuput = uppercase(output);
                    output = bold(output);
                    output = italic(output);
                }
            }

            if (option3.checked) {
                if(output == "") {
                    output = bold(textToFormat);
                } else {
                    outuput = bold(output);
                }
            }
            if (option4.checked) {
                if(output == "") {
                    output = italic(textToFormat);
                } else {
                    outuput = italic(output);
                }
            }
            if (option3.checked && option4.checked) {
                if(output == "") {
                    
                    output = bold(output);
                    output = italic(output);
                } else {
                    
                    output = bold(output);
                    output = italic(output);
                }
            }

            document.getElementById("outputText").innerHTML = "";
            document.getElementById("outputText").innerHTML = output;
        }
    } else {
        alert("Text or Formatting Option Not Informed");
    }

}

async function copyText() {
    let text = document.querySelector("#outputText").innerText;
    await navigator.clipboard.writeText(text);
}


